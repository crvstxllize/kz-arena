{% extends "base.html" %}

{% block content %}
<section class="section">
  <h1>{{ match.participants_display }}</h1>

  <p class="news-card__meta">
    <span class="news-pill">{{ match.get_kind_display }}</span>
    {% if match.discipline %}<span class="news-pill">{{ match.get_discipline_display }}</span>{% endif %}
    {% if match.is_example %}<span class="news-pill">Пример</span>{% endif %}
    <span>{{ match.start_datetime|date:"d.m.Y H:i" }}</span>
    <span>{{ match.get_status_display }}</span>
  </p>

  {% if match.tournament %}
    <p>
      Турнир:
      <a href="{% url 'tournaments:tournament_detail' match.tournament.slug %}">{{ match.tournament.name }}</a>
    </p>
  {% endif %}

  {% if match.location_display %}
    <p>{{ match.location_display }}</p>
  {% endif %}

  <div class="match-score-box">
    {% if match.score_display %}
      <p class="match-score">{{ match.home_team.name }} <strong>{{ match.score_display }}</strong> {{ match.away_team.name }}</p>
    {% else %}
      <p class="muted">Счёт будет доступен после начала или завершения матча.</p>
    {% endif %}
  </div>
</section>

<section class="section section-all-news">
  <div class="section-head"><h2 class="section-title">Статьи по дисциплине</h2></div>
  {% if related_articles %}
    <div class="news-grid news-grid--portal">
      {% for item in related_articles %}
        {% include "includes/news_card.html" with item=item card_variant="compact" %}
      {% endfor %}
    </div>
  {% else %}
    <p class="muted">Данные отсутствуют.</p>
  {% endif %}
</section>
{% endblock %}
